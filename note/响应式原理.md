# 响应式原理

## 01.Object.defineProperty
vue2是基于 `Object.defineProperty` 来实现数据相应的。通过Object.defineProperty 的 getter/setter 对收集的依赖项进行监听，在属性被访问和修改时通知变化,进而更新视图数据。

由于受到 `JavaScript` 的限制，vue不能检测到对象属性的添加和删除，由于 Vue 会在初始化实例时对属性执行 getter/setter 转化过程，所以属性必须在 data 对象上存在才能让Vue转换它，这样才能让它是响应的。

![vue2响应式](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/2/8/1617554b425a3431~tplv-t2oaga2asx-watermark.awebp)

## 02.Proxy
vue3 是基于 `Proxy` 来实现数据的响应式。proxy 对象用于创建一个对象的代理，从而实现基本的拦截和自定义。

```js
const p = new Proxy(target, handler);
```

- target：要使用 proxy 包装的目标对象。
- handler：一个通常以函数作为属性的对象，各属性中的函数分别定义了在执行各种操作时代理 p 的行为。